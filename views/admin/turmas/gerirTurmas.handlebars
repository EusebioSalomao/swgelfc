{{#if msg}}
<div class="alert alert-success text-center">{{msg}}</div>
{{else}}
{{/if}}
{{#if exist}}
<div class="alert alert-danger text-center">{{exist}}</div>
{{else}}
{{/if}}
<h1><span class="text-secondary">Turmas:</span> {{curso.descricao}} / {{ano.codigo}}</h1>
<hr>
<div class="bg-secondary">
    <div class="row">

    <div class="col-10">
    <a href="#"  onclick="addTurma()"><button class=" btn btn-sm btn-success">+ Turma</button> </a>
    <span class="text-light text-center" > Lista de todas as turmas da {{classe.designacao}} do curso de {{curso.descricao}} do ano Lectivo {{ano.codigo}}</span>

    </div>
    <div class="col-2 text-end"><a href="#" onclick="addDisciplina()"><button class="btn btn-sm btn-warning" >Adicionar disciplina</button></a></div>
    </div>
</div>
<hr>


<ol class="list-group list-group-numbered">
    <div class="container">
        <div class="mynav mt-1">

        <ul class="mycardTurmas">

       {{#each turmas}}
            <li class="text-center p-2 pt-4">
                <div class="lead">Turma</div>
                <div class="h2">
                {{codigo}}
                </div>
                <a href="/turmas/turma/{{_id}}" class="btn btn-sm bg-dark text-light">Entrar</a><br>
                <span>Click para ver mais informações</span>
            </li>    
    
{{else}}
        </ul>
<div class="h3 text-center mt-3">Nenhuma turma criada</div>
{{/each}} 
        </div>

<!-- Modal addClasse-->

<form action="/classes/add" method="post">
    <div class="modal" tabindex="-1" data-bs-backdrop="static" id="addClasse">
        <div class="modal-dialog modal-dialog-centered">
            <form action="/candidatos/consultar" method="post">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">Adicionar nova classe</h3>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body input-box">
                        <label for="designacao">Designação:</label>
                        <select name="designacao" required>
                            <option value="selecionar">Selecionar</option>
                            <option value="10ª Classe">10ª classe</option>
                            <option value="11ª Classe">11ª Classe</option>
                            <option value="12ª Classe">12ª Classe</option>
                        </select>
                        <label for="numVagas">Nº Vagas:</label>
                        <input type="number" name="numVagas" class="form-control" required><br>
                        <label for="turnos">Turnos:</label>
                        <select name="turnos" required>
                            <option value="selecionar">Selecionar</option>
                            <option value="matinal">Matinal</option>
                            <option value="vespertino">Vespertino</option>
                            <option value="noturno">Noturto</option>
                            <option value="matVespertino">Matinal e Vespertino</option>
                            <option value="todos">Todos</option>
                        </select>
                        <input type="hidden" name="idCurso" value="{{curso._id}}">
                        <input type="hidden" name="idAno" value="{{ano._id}}">

                        <button type="submit" class="btn btn-primary">Adicionar</button>
                    </div>
                    <div class="modal-footer text-center">
                        {{!-- <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Feichar</button>
                        --}}
                    </div>
                </div>
            </form>
        </div>
    </div>
</form>

<!-- Modal addTurma-->

<form action="/turmas/add" method="post">
    <div class="modal" tabindex="-1" data-bs-backdrop="static" id="addTurma">
        <div class="modal-dialog modal-dialog-centered">
            <form action="/candidatos/consultar" method="post">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">Adicionar nova turma</h3>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body input-box">
                        <label for="classe">Classe:</label>
                        <select name="classe" required>
                            {{#if classe10}}
                            <option value="10ª Classe">10ª classe</option>
                            {{else}}
                            {{/if}}
                            {{#if classe11}}
                            <option value="11ª Classe">11ª classe</option>
                            {{else}}
                            {{/if}}
                            {{#if classe12}}
                            <option value="12ª Classe">12ª classe</option>
                            {{else}}
                            {{/if}}
                        </select>
                        <label for="codigo">Código:</label>
                        <input type="text" name="codigo" placeholder="Digite o código da turma" required>
                        <label for="periodo">Período:</label>
                        <select name="periodo" required>
                            <option value="selecionar">Selecionar</option>
                            <option value="matinal">Matinal</option>
                            <option value="vespertino">Vespertino</option>
                            <option value="noturno">Noturto</option>
                        </select>
                        <input type="hidden" name="idCurso" value="{{curso._id}}">
                        <input type="hidden" name="idAno" value="{{ano._id}}">

                        <button type="submit" class="btn btn-primary">Adicionar</button>
                    </div>
                    <div class="modal-footer text-center">
                        {{!-- <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Feichar</button>
                        --}}
                    </div>
                </div>
            </form>
        </div>
    </div>
</form>

<!-- Modal addDisciplina-->

<form action="/disciplinas/add" method="post">
    <div class="modal" tabindex="-1" data-bs-backdrop="static" id="addDisciplina">
        <div class="modal-dialog modal-dialog-centered">
            <form action="/candidatos/consultar" method="post">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">Adicionar nova disciplina</h3>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body input-box">
                        <label for="nomeDisciplina">Nome da disciplina:</label>
                        <input type="text" name="nomeDisciplina" required>
                        <label for="tempoLectivo">Tempo lectivo por semana:</label>
                        <input type="text" name="tempoLectivo" required>
                        
                        <input type="hidden" name="idClasse" value="{{classe._id}}">
                        <input type="hidden" name="idCurso" value="{{curso._id}}">
                        <input type="hidden" name="idAno" value="{{ano._id}}">

                        <button type="submit" class="btn btn-primary">Adicionar</button>
                    </div>
                    <div class="modal-footer text-center">
                        {{!-- <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Feichar</button>
                        --}}
                    </div>
                </div>
            </form>
        </div>
    </div>
</form>

<script src="assets/bootstrap.bundle.min.js" class="img-fluid"></script>
<script>
    function addClasse() {

        let el = document.getElementById('addClasse');
        let minha_modal = new bootstrap.Modal(el);
        minha_modal.show();
    }

    function addTurma() {
        let el = document.getElementById('addTurma');
        let minha_modal = new bootstrap.Modal(el);
        minha_modal.show();
    }


    function addDisciplina() {
        let el = document.getElementById('addDisciplina');
        let minha_modal = new bootstrap.Modal(el);
        minha_modal.show();
    }



</script>